{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matth\\\\Coding_Projects\\\\GroupProject3\\\\client\\\\src\\\\pages\\\\AllCountries.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport CountryJumbotron from \"../components/CountryJumbotron\";\nimport API from \"../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\n\nfunction CountryPage() {\n  const [countries, setCountries] = useState();\n  const [singleCountry, setCountry] = useState({\n    name: \"United States\",\n    profilePicture: \"https://www.worldatlas.com/r/w480/img/flag/us-flag.jpg\"\n  });\n  const [formObject, setFormObject] = useState({});\n  const [commentsObject, setCommentsObject] = useState({});\n  const [questionsObject, setQuestionsObject] = useState({});\n  useEffect(() => {\n    loadCountries();\n  });\n\n  function loadCountries() {\n    API.getCountries().then(res => {\n      setCountries(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  ;\n\n  function switchCountry(name) {\n    API.switchCountry(name).then(res => setCountry(res.data[0])).catch(err => console.log(err));\n    API.loadComments(name).then(res => setCommentsObject(res.data)).catch(err => console.log(err));\n    API.loadQuestions(name).then(res => setQuestionsObject(res.data)).catch(err => console.log(err));\n  }\n\n  function handleInputChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormObject({ ...formObject,\n      [name]: value\n    });\n  }\n\n  ;\n\n  function handleFormSubmitAdvice(event) {\n    event.preventDefault();\n    return API.saveComment({\n      place: singleCountry.name,\n      person: formObject.author,\n      advice: formObject.comment\n    }).then(console.log(\"Comment uploaded\")).catch(err => console.log(err));\n  }\n\n  ;\n\n  function handleFormSubmitQuestion(event) {\n    event.preventDefault();\n    return API.saveQuestion({\n      place: singleCountry.name,\n      person: formObject.questioner,\n      question: formObject.question\n    }).then(console.log(\"Question uploaded\")).catch(err => console.log(err));\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(CountryJumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, singleCountry.name), /*#__PURE__*/React.createElement(\"img\", {\n    src: singleCountry.profilePicture,\n    alt: \"Country Flag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-2 sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"place\",\n    placeholder: \"Country\",\n    onKeyPress: event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        switchCountry(formObject.place);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 3\n    }\n  })), countries && countries.length > 0 ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, countries.map(country => /*#__PURE__*/React.createElement(ListItem, {\n    key: country.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/countries/\" + country.name,\n    onClick: () => switchCountry(country.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }\n  }, country.name))))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"No Results to Display\")), /*#__PURE__*/React.createElement(Col, {\n    size: \"md-10 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-5 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"Culture Box #1\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, singleCountry.culture))), /*#__PURE__*/React.createElement(Col, {\n    size: \"md-5 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Culture Box #2\"), singleCountry.description))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-5 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Culture Box #3\"))), /*#__PURE__*/React.createElement(Col, {\n    size: \"md-5 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, \"Culture Box #4\")))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md=5 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"What \\\"beyond the guidebook\\\" advice can you offer a prospective traveller to this country?\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"author\",\n    placeholder: \"Author (required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: handleInputChange,\n    name: \"comment\",\n    placeholder: \"Comment would go here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    disabled: !(formObject.author && formObject.comment),\n    onClick: handleFormSubmitAdvice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, \"Submit Comment\")), commentsObject && commentsObject.length > 0 ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, commentsObject.map(comment => /*#__PURE__*/React.createElement(ListItem, {\n    key: comment.advice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 23\n    }\n  }, comment.advice + \"     -\" + comment.person)))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, \"No Results to Display\")), /*#__PURE__*/React.createElement(Col, {\n    size: \"md=5 sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \"Have any questions about the culture of this country?\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"questioner\",\n    placeholder: \"Author (required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: handleInputChange,\n    name: \"question\",\n    placeholder: \"Question here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    disabled: !(formObject.questioner && formObject.question),\n    onClick: handleFormSubmitQuestion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, \"Submit Question\")), questionsObject && questionsObject.length > 0 ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, questionsObject.map(questions => /*#__PURE__*/React.createElement(ListItem, {\n    key: questions.question,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 23\n    }\n  }, questions.question + \"     -\" + questions.person)))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  }, \"No Results to Display\"))))));\n}\n\nexport default CountryPage;","map":{"version":3,"sources":["C:/Users/Matth/Coding_Projects/GroupProject3/client/src/pages/AllCountries.js"],"names":["React","useState","useEffect","Jumbotron","CountryJumbotron","API","Link","Col","Row","Container","List","ListItem","Input","TextArea","FormBtn","CountryPage","countries","setCountries","singleCountry","setCountry","name","profilePicture","formObject","setFormObject","commentsObject","setCommentsObject","questionsObject","setQuestionsObject","loadCountries","getCountries","then","res","data","catch","err","console","log","switchCountry","loadComments","loadQuestions","handleInputChange","event","value","target","handleFormSubmitAdvice","preventDefault","saveComment","place","person","author","advice","comment","handleFormSubmitQuestion","saveQuestion","questioner","question","key","length","map","country","culture","description","questions"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport CountryJumbotron from \"../components/CountryJumbotron\";\nimport API from \"../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\n\nfunction CountryPage() {\n  const [countries, setCountries] = useState();\n  const [singleCountry, setCountry] = useState({name:\"United States\", profilePicture:\"https://www.worldatlas.com/r/w480/img/flag/us-flag.jpg\"});\n  const [formObject, setFormObject] = useState({});\n  const [commentsObject, setCommentsObject] = useState({});\n  const [questionsObject, setQuestionsObject] = useState({});\n\n  useEffect(() => {\n    loadCountries();\n  })\n\n  function loadCountries() {\n    API.getCountries()\n      .then(res => \n        {\n        setCountries(res.data)\n        }\n      )\n      .catch(err => console.log(err));\n  };\n\n  function switchCountry(name) {\n    API.switchCountry(name)\n      .then(res => setCountry(res.data[0]))\n      .catch(err => console.log(err));\n      API.loadComments(name)\n      .then(res => setCommentsObject(res.data))\n      .catch(err => console.log(err));\n      API.loadQuestions(name)\n      .then(res => setQuestionsObject(res.data))\n      .catch(err => console.log(err));\n  }\n\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    setFormObject({...formObject, [name]: value})\n  };\n\n  function handleFormSubmitAdvice(event) {\n    event.preventDefault();\n      return API.saveComment({\n        place: singleCountry.name,\n        person: formObject.author,\n        advice: formObject.comment\n      })\n        .then(console.log(\"Comment uploaded\"))\n        .catch(err => console.log(err));\n    };\n\n  function handleFormSubmitQuestion(event) {\n    event.preventDefault();\n    return API.saveQuestion({\n      place: singleCountry.name,\n      person: formObject.questioner,\n      question: formObject.question\n    })\n      .then(console.log(\"Question uploaded\"))\n      .catch(err => console.log(err));\n  };\n\n    return (\n      <Container fluid>\n<Row>\n<CountryJumbotron>\n              <h1>{singleCountry.name}</h1>\n              <img src={singleCountry.profilePicture} alt=\"Country Flag\" />\n            </CountryJumbotron>\n  </Row>\n  <Row>\n          <Col size=\"md-2 sm-4\">\n<form>\n  <Input\n                onChange={handleInputChange}\n                name=\"place\"\n                placeholder=\"Country\"\n                onKeyPress={event => {\n                  if (event.key === 'Enter') {\n                    event.preventDefault();\n                    switchCountry(formObject.place);\n                  }\n                }}\n              />\n              </form>\n          \n            {countries && countries.length  > 0 ? (\n              <List>\n                {countries.map(country => (\n                  <ListItem key={country.name}>\n                    <Link to={\"/countries/\" + country.name} onClick={() => switchCountry(country.name)}>\n                      <strong>\n                        {country.name}\n                      </strong>\n                    </Link>\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n              <h3>No Results to Display</h3>\n            )}\n          </Col>\n<Col size=\"md-10 sm-8\">\n<Row>\n          <Col size=\"md-5 sm-8\">\n            <Jumbotron>\n              <h1>Culture Box #1</h1>\n              <p>{singleCountry.culture}</p>\n            </Jumbotron>\n            </Col><Col size=\"md-5 sm-8\">\n            <Jumbotron>\n              <h1>Culture Box #2</h1>\n              {singleCountry.description}\n            </Jumbotron>\n            </Col>\n            </Row>\n            <Row>\n            <Col size=\"md-5 sm-8\">\n            <Jumbotron>\n              <h1>Culture Box #3</h1>\n            </Jumbotron>\n            </Col>\n            <Col size=\"md-5 sm-8\">\n            <Jumbotron>\n              <h1>Culture Box #4</h1>\n            </Jumbotron>\n            </Col>\n            </Row>\n            <Row>\n              <Col size=\"md=5 sm-8\">\n            <form>\n            <h2>What \"beyond the guidebook\" advice can you offer a prospective traveller to this country?</h2>\n              <Input\n                onChange={handleInputChange}\n                name=\"author\"\n                placeholder=\"Author (required)\"\n\n              />\n              <TextArea\n                onChange={handleInputChange}\n                name=\"comment\"\n                placeholder=\"Comment would go here\"\n              />\n              <FormBtn\n                disabled={!(formObject.author && formObject.comment)}\n                onClick={handleFormSubmitAdvice}\n              >\n                Submit Comment\n              </FormBtn>\n            </form>\n\n            {commentsObject && commentsObject.length  > 0 ? (\n              <List>\n                {commentsObject.map(comment => (\n                  <ListItem key={comment.advice}>\n                      <strong>\n                        {comment.advice + \"     -\" + comment.person}\n                      </strong>\n                  </ListItem>\n                ))}\n              </List>\n            ):(\n              <h3>No Results to Display</h3>\n            )}\n            </Col>\n            <Col size=\"md=5 sm-8\">\n            <form>\n            <h2>Have any questions about the culture of this country?</h2>\n              <Input\n                onChange={handleInputChange}\n                name=\"questioner\"\n                placeholder=\"Author (required)\"\n\n              />\n              <TextArea\n                onChange={handleInputChange}\n                name=\"question\"\n                placeholder=\"Question here\"\n              />\n              <FormBtn\n                disabled={!(formObject.questioner && formObject.question)}\n                onClick={handleFormSubmitQuestion}\n              >\n                Submit Question\n              </FormBtn>\n            </form>\n            {questionsObject && questionsObject.length  > 0 ? (\n              <List>\n                {questionsObject.map(questions => (\n                  <ListItem key={questions.question}>\n                      <strong>\n                        {questions.question + \"     -\" + questions.person}\n                      </strong>\n                  </ListItem>\n                ))}\n              </List>\n            ):(\n              <h3>No Results to Display</h3>\n            )}\n            </Col>\n            </Row>\n</Col>\n          </Row> \n      </Container>\n    );\n  }\n\n\nexport default CountryPage;\n"]},"metadata":{},"sourceType":"module"}